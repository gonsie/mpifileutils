.\" Automatically generated by Pandoc 1.19.2
.\"
.TH "DWALK" "1" "" "" ""
.hy
.SH NAME
.PP
dwalk \- distributed walk and list
.SH SYNOPSIS
.PP
Parallel MPI application to recursively walk and list contents in a
directory.
.PP
dwalk provides functionality similar to \f[I]ls(1)\f[] and
\f[I]du(1)\f[].
Like \f[I]du(1)\f[], the tool reports a summary of the total number of
files and bytes.
Like \f[I]ls(1)\f[], the tool sorts and prints information about
individual files.
.PP
The output can be sorted on different fields (e.g, name, user, group,
size, etc).
A histogram of file sizes can be computed listing the number of files
that fall into user\-defined bins.
.SH OPTIONS
.TP
.B \-i, \-\-input FILE
Read source list from FILE.
FILE must be generated by another tool from the mpiFileUtils suite.
.RS
.RE
.TP
.B \-o, \-\-output FILE
Write the processed list to a file.
.RS
.RE
.TP
.B \-l, \-\-lite
Walk file system without stat.
.RS
.RE
.TP
.B \-s, \-\-sort FIELD
Sort output by comma\-delimited fields (see below).
.RS
.RE
.TP
.B \-d, \-\-distribution size:SEPARATORS
Print the distribution of file sizes.
For example, specifying size:0,80,100 will report the number of files
that have size 0 bytes, between 1\-80 bytes, between 81\-99 bytes, and
100 bytes or greater.
.RS
.RE
.TP
.B \-p, \-\-print
Print files to the screen.
.RS
.RE
.TP
.B \-v, \-\-verbose
Run in verbose mode.
.RS
.RE
.TP
.B \-h, \-\-help
Print usage.
.RS
.RE
.SH SORT FIELDS
.PP
By default, the list of files dwalk captures is not sorted.
To sort the list, one or more fields can be specified in a
comma\-delimited list:
.PP
name,user,group,uid,gid,atime,mtime,ctime,size
.PP
A field name can be preceded with \[aq]\-\[aq] to sort by that field in
reverse order.
.PP
A lexicographic sort is executed if more than one field is given.
.SH EXAMPLES
.IP "1." 3
To print summary information for a directory:
.PP
mpirun \-np 128 dwalk \-v /dir/to/walk
.IP "2." 3
To print a list of files, sorted by file size, then by file name:
.PP
mpirun \-np 128 dwalk \-\-print \-\-sort size,name /dir/to/walk
.IP "3." 3
To save the list of files:
.PP
mpirun \-np 128 dwalk \-\-output out.dwalk /dir/to/walk
.IP "4." 3
Print the file distribution for specified histogram based on the size
field from the top level directory.
.PP
mpirun \-np 128 dwalk \-v \-\-print \-d size:0,20,1G src/
.SH SEE ALSO
.PP
\f[C]dbcast\f[] (1).
\f[C]dchmod\f[] (1).
\f[C]dcmp\f[] (1).
\f[C]dcp\f[] (1).
\f[C]drm\f[] (1).
\f[C]dstripe\f[] (1).
\f[C]dwalk\f[] (1).
.PP
The mpiFileUtils source code and all documentation may be downloaded
from <https://github.com/hpc/mpifileutils>
